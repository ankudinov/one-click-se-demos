name: avd-extended-workshop-part-1
prefix: ""

mgmt:
  network: custom_mgmt
  ipv4-subnet: 192.168.0.0/24

topology:
  kinds:
    ceos:
      enforce-startup-config: true
      image: arista/ceos:4.31.2F
  defaults:
    kind: ceos
  nodes:
    s1-spine1:
      mgmt-ipv4: 192.168.0.10
      binds:
        - sn/s1-spine1.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/s1-spine1.cfg
    s1-spine2:
      mgmt-ipv4: 192.168.0.11
      binds:
        - sn/s1-spine2.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/s1-spine2.cfg
    s1-leaf1:
      mgmt-ipv4: 192.168.0.12
      binds:
        - sn/s1-leaf1.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/s1-leaf1.cfg
    s1-leaf2:
      mgmt-ipv4: 192.168.0.13
      binds:
        - sn/s1-leaf2.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/s1-leaf2.cfg
    s1-leaf3:
      mgmt-ipv4: 192.168.0.14
      binds:
        - sn/s1-leaf3.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/s1-leaf3.cfg
    s1-leaf4:
      mgmt-ipv4: 192.168.0.15
      binds:
        - sn/s1-leaf4.txt:/mnt/flash/ceos-config:ro
      startup-config: init-configs/s1-leaf4.cfg
    s1-host1:
      mgmt-ipv4: 192.168.0.16
      startup-config: init-configs/s1-host1.cfg
    s1-host2:
      mgmt-ipv4: 192.168.0.17
      startup-config: init-configs/s1-host2.cfg

  links:
    - endpoints: ["s1-leaf1:eth2", "s1-spine1:eth2"]
    - endpoints: ["s1-leaf1:eth3", "s1-spine2:eth2"]
    - endpoints: ["s1-leaf2:eth2", "s1-spine1:eth3"]
    - endpoints: ["s1-leaf2:eth3", "s1-spine2:eth3"]
    - endpoints: ["s1-leaf3:eth2", "s1-spine1:eth4"]
    - endpoints: ["s1-leaf3:eth3", "s1-spine2:eth4"]
    - endpoints: ["s1-leaf4:eth2", "s1-spine1:eth5"]
    - endpoints: ["s1-leaf4:eth3", "s1-spine2:eth5"]
    - endpoints: ["s1-host1:eth1", "s1-leaf1:eth4"]
    - endpoints: ["s1-host1:eth2", "s1-leaf2:eth4"]
    - endpoints: ["s1-host2:eth1", "s1-leaf3:eth4"]
    - endpoints: ["s1-host2:eth2", "s1-leaf4:eth4"]
